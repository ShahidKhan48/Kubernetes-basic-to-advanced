k8s-monitoring:
  cluster:
    name: omni-trade-prod
    kubernetesAPIService: 'kubernetes.default.svc.cluster.local:443'
    platform: ''
  externalServices:
    prometheus:
      host: 'https://mimir-gcp.ninjacart.in'
      hostKey: host
      protocol: remote_write
      proxyURL: ''
      queryEndpoint: /api/prom/api/v1/query
      writeEndpoint: /api/v1/push
      writeRelabelConfigRules: ''
      tenantId: _omni_trader_prod
      tenantIdKey: tenantId
      authMode: basic
      basicAuth:
        username: observe
        password: c6Sd3W7pgIsBc08!
        usernameKey: username
        passwordKey: password
      oauth2:
        clientId: ''
        clientIdKey: id
        clientSecret: ''
        clientSecretKey: secret
        clientSecretFile: ''
        endpointParams: {}
        proxyURL: ''
        noProxy: ''
        proxyFromEnvironment: false
        proxyConnectHeader: {}
        scopes: []
        tokenURL: ''
      queue_config:
        capacity: 10000
        min_shards: 1
        max_shards: 50
        max_samples_per_send: 2000
        batch_send_deadline: 5s
        min_backoff: 30ms
        max_backoff: 5s
        retry_on_http_429: true
        sample_age_limit: 0s
      secret:
        create: true
        name: ''
        namespace: ''
      processors:
        batch:
          size: 8192
          maxSize: 0
          timeout: 2s
        memoryLimiter:
          enabled: false
          checkInterval: 1s
          limit: 0MiB
      wal:
        truncateFrequency: 2h
        minKeepaliveTime: 5m
        maxKeepaliveTime: 8h
      sendNativeHistograms: false
    loki:
      host: 'https://loki-gcp.ninjacart.in'
      hostKey: host
      protocol: loki
      proxyURL: ''
      queryEndpoint: /loki/api/v1/query
      writeEndpoint: /loki/api/v1/push
      tenantId: _omni_trader_prod
      tenantIdKey: tenantId
      authMode: basic
      basicAuth:
        username: observe
        password: c6Sd3W7pgIsBc08!
        usernameKey: username
        passwordKey: password
      secret:
        create: true
      processors:
        batch:
          size: 8192
          maxSize: 0
          timeout: 2s
        memoryLimiter:
          enabled: false
          checkInterval: 1s
          limit: 0MiB
    tempo:
      host: 'tempo-gcp.ninjacart.in:443'
      hostKey: host
      searchEndpoint: /api/search
      protocol: otlp
      tenantId: _omni_trader_prod
      tenantIdKey: tenantId
      authMode: basic
      basicAuth:
        username: observe
        password: c6Sd3W7pgIsBc08!
        usernameKey: username
        passwordKey: password
      secret:
        create: true
        name: ''
        namespace: ''
      tlsOptions: ''
    pyroscope:
      host: ''
      hostKey: host
      proxyURL: ''
      tenantId: _omni_trader_prod
      tenantIdKey: tenantId
      authMode: basic
      basicAuth:
        username: ''
        usernameKey: username
        password: ''
        passwordKey: password
      secret:
        create: true
        name: ''
        namespace: ''
  metrics:
    enabled: true
    scrapeInterval: 60s
    maxCacheSize: 100000
    extraRelabelingRules: ''
    extraMetricRelabelingRules: ''
    autoDiscover:
      enabled: true
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        includeMetrics: []
        excludeMetrics: []
      annotations:
        scrape: k8s.grafana.com/scrape
        job: k8s.grafana.com/job
        instance: k8s.grafana.com/instance
        metricsPath: k8s.grafana.com/metrics.path
        metricsPortName: k8s.grafana.com/metrics.portName
        metricsPortNumber: k8s.grafana.com/metrics.portNumber
        metricsScheme: k8s.grafana.com/metrics.scheme
        metricsScrapeInterval: k8s.grafana.com/metrics.scrapeInterval
      maxCacheSize: null
    alloy:
      enabled: true
      scrapeInterval: ''
      labelMatchers:
        app.kubernetes.io/name: alloy.*
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        useDefaultAllowList: true
        useIntegrationAllowList: false
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    kube-state-metrics:
      enabled: true
      scrapeInterval: ''
      labelMatchers:
        app.kubernetes.io/name: kube-state-metrics
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      service:
        port: http
        isTLS: false
      metricsTuning:
        useDefaultAllowList: true
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    node-exporter:
      enabled: true
      scrapeInterval: ''
      labelMatchers:
        app.kubernetes.io/name: prometheus-node-exporter.*
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      service:
        isTLS: false
      metricsTuning:
        useDefaultAllowList: true
        useIntegrationAllowList: false
        includeMetrics: []
        excludeMetrics: []
        dropMetricsForFilesystem:
          - tempfs
      maxCacheSize: null
    windows-exporter:
      enabled: false
      scrapeInterval: ''
      labelMatchers:
        app.kubernetes.io/name: prometheus-windows-exporter.*
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        useDefaultAllowList: true
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    kubelet:
      enabled: true
      nodeAddressFormat: direct
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        useDefaultAllowList: true
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    cadvisor:
      enabled: true
      nodeAddressFormat: direct
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        useDefaultAllowList: true
        includeMetrics: []
        excludeMetrics: []
        dropEmptyContainerLabels: true
        dropEmptyImageLabels: true
        normalizeUnnecessaryLabels:
          - metric: machine_memory_bytes
            labels:
              - boot_id
              - system_uuid
        keepPhysicalFilesystemDevices:
          - mmcblk.p.+
          - nvme.+
          - rbd.+
          - sd.+
          - vd.+
          - xvd.+
          - dasd.+
        keepPhysicalNetworkDevices:
          - 'en[ospx][0-9].*'
          - 'wlan[0-9].*'
          - 'eth[0-9].*'
      maxCacheSize: null
    apiserver:
      enabled: true
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    kubeControllerManager:
      enabled: false
      port: 10257
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    kubeProxy:
      enabled: true
      port: 10249
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    kubeScheduler:
      enabled: false
      port: 10259
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    cost:
      enabled: false
      scrapeInterval: ''
      labelMatchers:
        app.kubernetes.io/name: opencost
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        useDefaultAllowList: true
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    kepler:
      enabled: false
      scrapeInterval: ''
      labelMatchers:
        app.kubernetes.io/name: kepler
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      metricsTuning:
        useDefaultAllowList: true
        includeMetrics: []
        excludeMetrics: []
      maxCacheSize: null
    podMonitors:
      enabled: true
      namespaces: []
      selector: ''
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      maxCacheSize: null
    probes:
      enabled: true
      namespaces: []
      selector: ''
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      maxCacheSize: null
    serviceMonitors:
      enabled: true
      namespaces: []
      selector: ''
      scrapeInterval: ''
      extraRelabelingRules: ''
      extraMetricRelabelingRules: ''
      maxCacheSize: null
    kubernetesMonitoring:
      enabled: true
    alloyModules:
      connections: []
      modules: []
    receiver:
      filters:
        metric: []
        datapoint: []
      transforms:
        resource: []
        metric: []
        datapoint: []
  logs:
    enabled: true
    pod_logs:
      enabled: true
      discovery: all
      annotation: k8s.grafana.com/logs.autogather
      namespaces: []
      excludeNamespaces: []
      extraRelabelingRules: ''
      gatherMethod: volumes
      extraStageBlocks: ''
      labels:
        app: app.kubernetes.io/name
      annotations:
        job: k8s.grafana.com/logs.job
      structuredMetadata: {}
    podLogsObjects:
      enabled: false
      namespaces: []
      selector: ''
      extraStageBlocks: ''
    cluster_events:
      enabled: true
      logFormat: logfmt
      namespaces: []
      extraStageBlocks: ''
      logToStdout: false
      extraConfig: ''
    journal:
      enabled: false
      path: /var/log/journal
      maxAge: 8h
      jobLabel: integrations/kubernetes/journal
      formatAsJson: false
      units: []
      extraStageBlocks: ''
      extraRelabelingRules: ''
    receiver:
      filters:
        log_record: []
      transforms:
        resource: []
        log: []
        labels:
          - namespace
          - pod
    extraConfig: ''
  traces:
    enabled: true
    receiver:
      filters:
        span: []
        spanevent: []
      transforms:
        resource: []
        span: []
        spanevent: []
  profiles:
    enabled: false
    ebpf:
      enabled: true
      namespaces: []
      extraRelabelingRules: ''
      demangle: none
    java:
      enabled: true
      namespaces: []
      extraRelabelingRules: ''
      profilingConfig:
        interval: 60s
        cpu: true
        sampleRate: 100
        alloc: 512k
        lock: 10ms
    pprof:
      enabled: true
      namespaces: []
      extraRelabelingRules: ''
      types:
        - memory
        - cpu
        - goroutine
        - block
        - mutex
        - fgprof
  receivers:
    grpc:
      enabled: true
      port: 4317
      disable_debug_metrics: true
    http:
      enabled: true
      port: 4318
      disable_debug_metrics: true
    prometheus:
      enabled: false
      port: 9999
    jaeger:
      grpc:
        enabled: false
        port: 14250
      thriftBinary:
        enabled: false
        port: 6832
      thriftCompact:
        enabled: false
        port: 6831
      thriftHttp:
        enabled: false
        port: 14268
      disable_debug_metrics: true
    zipkin:
      enabled: false
      port: 9411
      disable_debug_metrics: true
    processors:
      batch:
        size: 16384
        maxSize: 0
        timeout: 2s
      k8sattributes:
        metadata:
          - k8s.namespace.name
          - k8s.pod.name
          - k8s.deployment.name
          - k8s.statefulset.name
          - k8s.daemonset.name
          - k8s.cronjob.name
          - k8s.job.name
          - k8s.node.name
          - k8s.pod.uid
          - k8s.pod.start_time
        labels: []
        annotations: []
    grafanaCloudMetrics:
      enabled: true
    deployGrafanaAgentService: true
  extraConfig: ''
  configValidator:
    enabled: true
    nodeSelector:
      kubernetes.io/os: linux
    extraAnnotations: {}
    extraLabels: {}
    tolerations: []
    serviceAccount:
      name: ''
  test:
    enabled: false
    extraQueries: []
    attempts: 10
    nodeSelector:
      kubernetes.io/os: linux
    extraAnnotations: {}
    extraLabels: {}
    tolerations: []
    serviceAccount:
      name: ''
    envOverrides:
      PROMETHEUS_URL: ''
      LOKI_URL: ''
      TEMPO_URL: ''
      PROFILECLI_URL: ''
    image:
      registry: ghcr.io
      image: grafana/k8s-monitoring-test
      tag: ''
      pullSecrets: []
  configAnalysis:
    enabled: false
    nodeSelector:
      kubernetes.io/os: linux
    extraAnnotations: {}
    extraLabels: {}
    tolerations: []
    serviceAccount:
      name: ''
    image:
      registry: ghcr.io
      image: grafana/k8s-monitoring-test
      tag: ''
      pullSecrets: []
  global:
    image:
      registry: ''
      pullSecrets: []
  kube-state-metrics:
    enabled: true
    nodeSelector:
      kubernetes.io/os: linux
    autosharding:
      enabled: false
    updateStrategy: Recreate
    prometheusScrape: false
  prometheus-node-exporter:
    enabled: true
    nodeSelector:
      kubernetes.io/os: linux
    podAnnotations:
      k8s.grafana.com/logs.job: integrations/node_exporter
    service:
      annotations:
        prometheus.io/scrape: null
  prometheus-windows-exporter:
    enabled: false
  prometheus-operator-crds:
    enabled: false
  opencost:
    enabled: false
    opencost:
      exporter:
        defaultClusterId: trader-prod
        extraEnv:
          CLOUD_PROVIDER_API_KEY: AIzaSyD29bGxmHAVEOBYtgd8sYM2gM2ekfxQX4U
          CURRENT_CLUSTER_ID_FILTER_ENABLED: 'true'
          PROM_CLUSTER_ID_LABEL: cluster
      carbonCost:
        enabled: false
      cloudCost:
        enabled: false
      metrics:
        kubeStateMetrics:
          emitKsmV1Metrics: false
          emitKsmV1MetricsOnly: true
      prometheus:
        existingSecretName: prometheus-k8s-monitoring
        username_key: username
        password_key: password
        external:
          enabled: true
          url: 'https://prom.example.com/api/prom'
        internal:
          enabled: false
      ui:
        enabled: false
      nodeSelector:
        kubernetes.io/os: linux
  kepler:
    enabled: false
    canMount:
      usrSrc: false
    extraEnvVars:
      EXPOSE_ESTIMATED_IDLE_POWER_METRICS: 'true'
  alloy:
    logging:
      level: info
      format: logfmt
    liveDebugging:
      enabled: false
    alloy:
      clustering:
        enabled: true
      configMap:
        create: false
      extraPorts:
        - name: otlp-grpc
          port: 4317
          targetPort: 4317
          protocol: TCP
        - name: otlp-http
          port: 4318
          targetPort: 4318
          protocol: TCP
        - name: prometheus
          port: 9999
          targetPort: 9999
          protocol: TCP
        - name: jaeger-grpc
          port: 14250
          targetPort: 14250
          protocol: TCP
        - name: jaeger-binary
          port: 6832
          targetPort: 6832
          protocol: TCP
        - name: jaeger-compact
          port: 6831
          targetPort: 6831
          protocol: TCP
        - name: jaeger-http
          port: 14268
          targetPort: 14268
          protocol: TCP
        - name: zipkin
          port: 9411
          targetPort: 9411
          protocol: TCP
      mounts:
        extra:
          - name: kubernetes-monitoring-telemetry
            mountPath: /etc/kubernetes-monitoring-telemetry
    controller:
      type: statefulset
      replicas: 2
      nodeSelector:
        kubernetes.io/os: linux
      podAnnotations:
        k8s.grafana.com/logs.job: integrations/alloy
      volumes:
        extra:
          - name: kubernetes-monitoring-telemetry
            configMap:
              name: kubernetes-monitoring-telemetry
    crds:
      create: false
  alloy-events:
    logging:
      level: info
      format: logfmt
    liveDebugging:
      enabled: false
    alloy:
      configMap:
        create: false
    controller:
      type: deployment
      replicas: 1
      nodeSelector:
        kubernetes.io/os: linux
      podAnnotations:
        k8s.grafana.com/logs.job: integrations/alloy
    crds:
      create: false
  alloy-logs:
    logging:
      level: info
      format: logfmt
    liveDebugging:
      enabled: false
    alloy:
      configMap:
        create: false
      clustering:
        enabled: false
      mounts:
        varlog: true
        dockercontainers: false
    controller:
      type: daemonset
      nodeSelector:
        kubernetes.io/os: linux
      tolerations:
        - effect: NoSchedule
          operator: Exists
      podAnnotations:
        k8s.grafana.com/logs.job: integrations/alloy
    crds:
      create: false
  alloy-profiles:
    logging:
      level: info
      format: logfmt
    liveDebugging:
      enabled: false
    alloy:
      stabilityLevel: public-preview
      configMap:
        create: false
      clustering:
        enabled: false
      securityContext:
        privileged: true
        runAsGroup: 0
        runAsUser: 0
    controller:
      type: daemonset
      hostPID: true
      nodeSelector:
        kubernetes.io/os: linux
      tolerations:
        - effect: NoSchedule
          operator: Exists
      podAnnotations:
        k8s.grafana.com/logs.job: integrations/alloy
    crds:
      create: false
